{"ast":null,"code":"/**\n * 初始化数据\n */\nlet obj = {\n  currentList: [],\n  //当前页的数据\n  totalData: [],\n  //请求到的全部数据\n  current: 1,\n  //当前页码\n  pageSize: 10,\n  //每页显示的条数\n  total: 0 //商品列表总条数\n\n};\nexport default function product(state = obj, action) {\n  switch (action.type) {\n    case \"SETDATALIST\":\n      const {\n        list,\n        total\n      } = action;\n      return { ...state,\n        totalData: list,\n        total: total,\n        currentList: list.slice((state.current - 1) * state.pageSize, state.current * state.pageSize)\n      };\n\n    case \"GETLIST\":\n      const {\n        pageSize\n      } = state;\n      let result = state.totalData.filter(item => item.name.indexOf(action.name) > -1);\n      let length = result.length;\n      result = result.slice((action.number - 1) * pageSize, action.number * pageSize);\n      return { ...state,\n        currentList: result,\n        total: length\n      };\n\n    case \"CHANGEPRICE\":\n      const {\n        id,\n        price\n      } = action;\n      const target = state.currentList;\n      target.some(item => {\n        if (item.id == id) {\n          item.price = price;\n          return true;\n        }\n\n        return false;\n      });\n      return { ...state,\n        currentList: target\n      };\n\n    case \"CHANGECHECKED\":\n      const {\n        idList,\n        boolen\n      } = action;\n      const lists = state.currentList;\n      console.log(action, 'uuuuuuu');\n      lists.some(item => {\n        if (item.id == idList) {\n          console.log(boolen, item.checked);\n          item.checked = boolen;\n          return true;\n        }\n\n        return false;\n      });\n      console.log(lists, 'lists');\n      return { ...state,\n        currentList: lists\n      };\n\n    case \"REMOVECHECKED\":\n      const delentList = state.currentList;\n      console.log(delentList, 'delentList');\n      delentList.forEach((item, index) => {\n        console.log(item.checked);\n\n        if (item.checked == true) {\n          delentList.splice(index, 1);\n        }\n      });\n      return { ...state,\n        currentList: delentList\n      };\n\n    default:\n      return obj;\n  }\n}","map":{"version":3,"sources":["/Users/aiyongtech5/Desktop/demo03/demo/src/reducers/product.js"],"names":["obj","currentList","totalData","current","pageSize","total","product","state","action","type","list","slice","result","filter","item","name","indexOf","length","number","id","price","target","some","idList","boolen","lists","console","log","checked","delentList","forEach","index","splice"],"mappings":"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","sourcesContent":["\n/**\n * 初始化数据\n */\nlet obj = {\n    currentList:[],//当前页的数据\n    totalData: [],//请求到的全部数据\n    current: 1, //当前页码\n    pageSize: 10, //每页显示的条数\n    total: 0,//商品列表总条数\n}\n\nexport default function product(state = obj, action) {\n    switch (action.type) {\n        case \"SETDATALIST\":\n            const {list, total} = action\n            return {\n                ...state,\n                totalData:list,\n                total:total,\n                currentList : list.slice((state.current-1)*state.pageSize,state.current*state.pageSize)\n            };\n        case \"GETLIST\":\n            const {pageSize} = state\n            let result = state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n            let length = result.length\n            result = result.slice((action.number-1)*pageSize,action.number*pageSize)\n            return {\n                ...state,\n                currentList: result,\n                total:length\n            }\n        case \"CHANGEPRICE\":\n            const {id, price} = action\n            const target = state.currentList\n            target.some(item =>{\n                if(item.id == id){\n                    item.price = price\n                    return true\n                }\n                return false\n            })\n            return {  \n                ...state,\n                currentList: target\n            }\n        case \"CHANGECHECKED\":\n            const {idList,boolen} = action\n            const lists = state.currentList\n            console.log( action,'uuuuuuu')\n            lists.some(item =>{\n                if(item.id == idList){\n                    console.log(boolen,item.checked)\n                    item.checked = boolen\n                    return true\n                }\n                return false\n            })\n            console.log(lists,'lists')\n            return {\n                ...state,\n                currentList:lists\n            }\n        case \"REMOVECHECKED\" :\n            const delentList = state.currentList\n            console.log(delentList,'delentList')\n\n            delentList.forEach((item,index) =>{\n                console.log(item.checked)\n                if(item.checked == true){\n                    delentList.splice(index,1)\n                }\n            })\n            return {\n                ...state,\n                currentList:delentList\n            }\n        default:\n            return obj;\n    }\n}"]},"metadata":{},"sourceType":"module"}
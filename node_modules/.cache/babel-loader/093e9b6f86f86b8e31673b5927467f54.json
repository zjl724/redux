{"ast":null,"code":"/**\n * 初始化数据\n */\nlet obj = {\n  currentList: [],\n  //当前页的数据\n  totalData: [],\n  //请求到的全部数据\n  current: 1,\n  //当前页码\n  pageSize: 10,\n  //每页显示的条数\n  total: 0 //商品列表总条数\n\n};\nexport default function product(state = obj, action) {\n  switch (action.type) {\n    case \"SETDATALIST\":\n      console.log(action);\n      return { ...state,\n        totalData: action.list,\n        total: action.total\n      };\n\n    case \"GETLISTBYID\":\n      const {\n        totalData,\n        pageSize\n      } = state;\n      const number = action.pageNumber;\n      return { ...state,\n        currentList: totalData.slice((number - 1) * pageSize, number * pageSize)\n      };\n\n    case \"GETLISTBUNAME\":\n      // console.log(state.totalData,'ppppppp')\n      return { ...state,\n        currentList: state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n      };\n\n    case \"GETLIST\":\n      console.log(action, 'dsjfbeyrfbeufbefbefb');\n      console.log(state.totalData);\n      let list = state.totalData.filter(item => item.name.indexOf(action.name) > -1);\n      list = list.slice((action.pageNumber - 1) * state.pageSize, action.pageNumber * state.pageSize);\n      return { ...state,\n        currentList: list,\n        total: list.length\n      };\n\n    default:\n      return obj;\n  }\n}","map":{"version":3,"sources":["/Users/aiyongtech5/Desktop/demo03/demo/src/reducers/product.js"],"names":["obj","currentList","totalData","current","pageSize","total","product","state","action","type","console","log","list","number","pageNumber","slice","filter","item","name","indexOf","length"],"mappings":"AACA;;;AAGA,IAAIA,GAAG,GAAG;AACNC,EAAAA,WAAW,EAAC,EADN;AACS;AACfC,EAAAA,SAAS,EAAE,EAFL;AAEQ;AACdC,EAAAA,OAAO,EAAE,CAHH;AAGM;AACZC,EAAAA,QAAQ,EAAE,EAJJ;AAIQ;AACdC,EAAAA,KAAK,EAAE,CALD,CAKG;;AALH,CAAV;AAQA,eAAe,SAASC,OAAT,CAAiBC,KAAK,GAAGP,GAAzB,EAA8BQ,MAA9B,EAAsC;AACjD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,aAAL;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,aAAO,EACH,GAAGD,KADA;AAEHL,QAAAA,SAAS,EAACM,MAAM,CAACI,IAFd;AAGHP,QAAAA,KAAK,EAACG,MAAM,CAACH;AAHV,OAAP;;AAKJ,SAAK,aAAL;AACI,YAAM;AAACH,QAAAA,SAAD;AAAWE,QAAAA;AAAX,UAAuBG,KAA7B;AACA,YAAMM,MAAM,GAAGL,MAAM,CAACM,UAAtB;AACA,aAAO,EACH,GAAGP,KADA;AAEHN,QAAAA,WAAW,EAAEC,SAAS,CAACa,KAAV,CAAgB,CAACF,MAAM,GAAC,CAAR,IAAWT,QAA3B,EAAoCS,MAAM,GAACT,QAA3C;AAFV,OAAP;;AAIJ,SAAK,eAAL;AACI;AACA,aAAO,EACH,GAAGG,KADA;AAEHN,QAAAA,WAAW,EAAEM,KAAK,CAACL,SAAN,CAAgBc,MAAhB,CAAuBC,IAAI,IAAIA,IAAI,CAACC,IAAL,CAAUC,OAAV,CAAkBX,MAAM,CAACU,IAAzB,IAAiC,CAAC,CAAjE;AAFV,OAAP;;AAIJ,SAAK,SAAL;AACIR,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAAmB,sBAAnB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACL,SAAlB;AACA,UAAIU,IAAI,GAAGL,KAAK,CAACL,SAAN,CAAgBc,MAAhB,CAAuBC,IAAI,IAAIA,IAAI,CAACC,IAAL,CAAUC,OAAV,CAAkBX,MAAM,CAACU,IAAzB,IAAiC,CAAC,CAAjE,CAAX;AACAN,MAAAA,IAAI,GAAGA,IAAI,CAACG,KAAL,CAAW,CAACP,MAAM,CAACM,UAAP,GAAkB,CAAnB,IAAsBP,KAAK,CAACH,QAAvC,EAAgDI,MAAM,CAACM,UAAP,GAAkBP,KAAK,CAACH,QAAxE,CAAP;AACA,aAAO,EACH,GAAGG,KADA;AAEHN,QAAAA,WAAW,EAAEW,IAFV;AAGHP,QAAAA,KAAK,EAACO,IAAI,CAACQ;AAHR,OAAP;;AAKJ;AACI,aAAOpB,GAAP;AAhCR;AAkCH","sourcesContent":["\n/**\n * 初始化数据\n */\nlet obj = {\n    currentList:[],//当前页的数据\n    totalData: [],//请求到的全部数据\n    current: 1, //当前页码\n    pageSize: 10, //每页显示的条数\n    total: 0,//商品列表总条数\n}\n\nexport default function product(state = obj, action) {\n    switch (action.type) {\n        case \"SETDATALIST\":\n            console.log(action)\n            return {\n                ...state,\n                totalData:action.list,\n                total:action.total,\n            };\n        case \"GETLISTBYID\":\n            const {totalData,pageSize} = state\n            const number = action.pageNumber\n            return {\n                ...state,\n                currentList: totalData.slice((number-1)*pageSize,number*pageSize)\n            }\n        case \"GETLISTBUNAME\":\n            // console.log(state.totalData,'ppppppp')\n            return {\n                ...state,\n                currentList: state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n            }\n        case \"GETLIST\" :\n            console.log(action,'dsjfbeyrfbeufbefbefb')\n            console.log(state.totalData)\n            let list = state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n            list = list.slice((action.pageNumber-1)*state.pageSize,action.pageNumber*state.pageSize)\n            return {\n                ...state,\n                currentList: list,\n                total:list.length\n            }\n        default:\n            return obj;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
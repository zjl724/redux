{"ast":null,"code":"//声明actions ： 描述了数据从应用到store的有效信息负载，是修改store的唯一途径。\n//要通过action来修改数据，必须把action提交给dispatch，通过diapatch来调用action从而改变数据\nconst ADD_TYPE = \"ADD\";\nconst MINUS_TYPE = \"MINUS\";\nconst CITY_TYPE = \"CHOOSECITY\";\nconst SET_DATA_LIST = \"SETDATALIST\";\nexport function setDataList() {\n  return {\n    type: SET_DATA_LIST,\n    list\n  };\n}\nexport function getDataList() {\n  return (dispatch, getState) => {\n    let result = axios.get('productList.json');\n    result.then(res => {\n      // const pageSize = getState().allList.pageSize;\n      // const page = getState().allList.page;\n      dispatch({\n        type: 'SET_DATA_LIST',\n        list: res.data.list // num: Math.ceil(res.data.list.length / pageSize),\n        // data: res.data.list.slice((page - 1) * pageSize, page * pageSize),\n\n      });\n    });\n  };\n} //操作counter的action\n\nexport function add(step) {\n  return {\n    type: ADD_TYPE,\n    step: step\n  };\n}\nexport function minus() {\n  return {\n    type: MINUS_TYPE\n  };\n} // export function addAsync() {\n//     return dispatch=>{\n//         setTimeout(() => {\n//            dispatch(add(1))  \n//         }, 2000);\n//     }\n// }\n// //操作city的action\n// export function chooseCity(city) {\n//     return {\n//         type: CITY_TYPE,\n//         city\n//     }\n// }","map":{"version":3,"sources":["/Users/aiyongtech5/Desktop/demo03/demo/src/actions/index.js"],"names":["ADD_TYPE","MINUS_TYPE","CITY_TYPE","SET_DATA_LIST","setDataList","type","list","getDataList","dispatch","getState","result","axios","get","then","res","data","add","step","minus"],"mappings":"AAAA;AACA;AACA,MAAMA,QAAQ,GAAG,KAAjB;AACA,MAAMC,UAAU,GAAG,OAAnB;AACA,MAAMC,SAAS,GAAG,YAAlB;AACA,MAAMC,aAAa,GAAG,aAAtB;AAEA,OAAO,SAASC,WAAT,GAAsB;AACzB,SAAM;AACFC,IAAAA,IAAI,EAAEF,aADJ;AAEFG,IAAAA;AAFE,GAAN;AAIH;AAED,OAAO,SAASC,WAAT,GAAuB;AAC1B,SAAO,CAACC,QAAD,EAAUC,QAAV,KAAsB;AACzB,QAAIC,MAAM,GAAGC,KAAK,CAACC,GAAN,CAAU,kBAAV,CAAb;AACAF,IAAAA,MAAM,CAACG,IAAP,CAAYC,GAAG,IAAI;AACf;AACA;AACAN,MAAAA,QAAQ,CAAC;AACLH,QAAAA,IAAI,EAAE,eADD;AAELC,QAAAA,IAAI,EAAEQ,GAAG,CAACC,IAAJ,CAAST,IAFV,CAGL;AACA;;AAJK,OAAD,CAAR;AAMH,KATD;AAUH,GAZD;AAaH,C,CACD;;AACA,OAAO,SAASU,GAAT,CAAaC,IAAb,EAAmB;AACtB,SAAO;AACHZ,IAAAA,IAAI,EAAEL,QADH;AAEHiB,IAAAA,IAAI,EAAEA;AAFH,GAAP;AAIH;AACD,OAAO,SAASC,KAAT,GAAiB;AACpB,SAAO;AACHb,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["//声明actions ： 描述了数据从应用到store的有效信息负载，是修改store的唯一途径。\r\n//要通过action来修改数据，必须把action提交给dispatch，通过diapatch来调用action从而改变数据\r\nconst ADD_TYPE = \"ADD\"\r\nconst MINUS_TYPE = \"MINUS\"\r\nconst CITY_TYPE = \"CHOOSECITY\"\r\nconst SET_DATA_LIST = \"SETDATALIST\"\r\n\r\nexport function setDataList(){\r\n    return{\r\n        type: SET_DATA_LIST,\r\n        list,\r\n    }\r\n}\r\n\r\nexport function getDataList() {\r\n    return (dispatch,getState) =>{\r\n        let result = axios.get('productList.json')\r\n        result.then(res => {\r\n            // const pageSize = getState().allList.pageSize;\r\n            // const page = getState().allList.page;\r\n            dispatch({\r\n                type: 'SET_DATA_LIST',\r\n                list: res.data.list,\r\n                // num: Math.ceil(res.data.list.length / pageSize),\r\n                // data: res.data.list.slice((page - 1) * pageSize, page * pageSize),\r\n            })\r\n        })\r\n    }\r\n}\r\n//操作counter的action\r\nexport function add(step) {\r\n    return {\r\n        type: ADD_TYPE,\r\n        step: step\r\n    }\r\n}\r\nexport function minus() {\r\n    return {\r\n        type: MINUS_TYPE\r\n    }\r\n}\r\n\r\n// export function addAsync() {\r\n//     return dispatch=>{\r\n//         setTimeout(() => {\r\n//            dispatch(add(1))  \r\n//         }, 2000);\r\n//     }\r\n// }\r\n\r\n// //操作city的action\r\n// export function chooseCity(city) {\r\n//     return {\r\n//         type: CITY_TYPE,\r\n//         city\r\n//     }\r\n// }"]},"metadata":{},"sourceType":"module"}
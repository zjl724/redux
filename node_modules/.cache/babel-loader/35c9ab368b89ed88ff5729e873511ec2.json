{"ast":null,"code":"/**\n * 初始化数据\n */\nlet obj = {\n  currentList: [],\n  //当前页的数据\n  totalData: [],\n  //请求到的全部数据\n  current: 1,\n  //当前页码\n  pageSize: 10,\n  //每页显示的条数\n  total: 0,\n  //商品列表总条数\n  currentId: 0,\n  //要修改的当前商品的id\n  currentPrice: 0 //要修改的当前商品的价格\n\n};\nexport default function product(state = obj, action) {\n  switch (action.type) {\n    case \"SETDATALIST\":\n      const {\n        list,\n        total\n      } = action;\n      return { ...state,\n        totalData: list,\n        total: total,\n        currentList: list.slice((state.current - 1) * state.pageSize, state.current * state.pageSize)\n      };\n\n    case \"GETLIST\":\n      const {\n        pageSize\n      } = state;\n      let result = state.totalData.filter(item => item.name.indexOf(action.name) > -1);\n      let length = result.length;\n      result = result.slice((action.number - 1) * pageSize, action.number * pageSize);\n      return { ...state,\n        currentList: result,\n        total: length\n      };\n\n    case \"CURRENTPRODUCT\":\n      const {\n        id,\n        price\n      } = action;\n      console.log(action, 'action');\n      return { ...state,\n        currentId: id,\n        currentPrice: price\n      };\n\n    default:\n      return obj;\n  }\n} // case \"GETLISTBYID\":\n//     const {totalData,pageSize} = state\n//     const number = action.pageNumber\n//     return {\n//         ...state,\n//         currentList: totalData.slice((number-1)*pageSize,number*pageSize)\n//     }\n// case \"GETLISTBUNAME\":\n//     // console.log(state.totalData,'ppppppp')\n//     return {\n//         ...state,\n//         currentList: state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n//     }","map":{"version":3,"sources":["/Users/aiyongtech5/Desktop/demo03/demo/src/reducers/product.js"],"names":["obj","currentList","totalData","current","pageSize","total","currentId","currentPrice","product","state","action","type","list","slice","result","filter","item","name","indexOf","length","number","id","price","console","log"],"mappings":"AACA;;;AAGA,IAAIA,GAAG,GAAG;AACNC,EAAAA,WAAW,EAAC,EADN;AACS;AACfC,EAAAA,SAAS,EAAE,EAFL;AAEQ;AACdC,EAAAA,OAAO,EAAE,CAHH;AAGM;AACZC,EAAAA,QAAQ,EAAE,EAJJ;AAIQ;AACdC,EAAAA,KAAK,EAAE,CALD;AAKG;AACTC,EAAAA,SAAS,EAAE,CANL;AAMO;AACbC,EAAAA,YAAY,EAAE,CAPR,CAOU;;AAPV,CAAV;AAUA,eAAe,SAASC,OAAT,CAAiBC,KAAK,GAAGT,GAAzB,EAA8BU,MAA9B,EAAsC;AACjD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,aAAL;AACI,YAAM;AAACC,QAAAA,IAAD;AAAOP,QAAAA;AAAP,UAAgBK,MAAtB;AACA,aAAO,EACH,GAAGD,KADA;AAEHP,QAAAA,SAAS,EAACU,IAFP;AAGHP,QAAAA,KAAK,EAACA,KAHH;AAIHJ,QAAAA,WAAW,EAAGW,IAAI,CAACC,KAAL,CAAW,CAACJ,KAAK,CAACN,OAAN,GAAc,CAAf,IAAkBM,KAAK,CAACL,QAAnC,EAA4CK,KAAK,CAACN,OAAN,GAAcM,KAAK,CAACL,QAAhE;AAJX,OAAP;;AAMJ,SAAK,SAAL;AACI,YAAM;AAACA,QAAAA;AAAD,UAAaK,KAAnB;AACA,UAAIK,MAAM,GAAGL,KAAK,CAACP,SAAN,CAAgBa,MAAhB,CAAuBC,IAAI,IAAIA,IAAI,CAACC,IAAL,CAAUC,OAAV,CAAkBR,MAAM,CAACO,IAAzB,IAAiC,CAAC,CAAjE,CAAb;AACA,UAAIE,MAAM,GAAGL,MAAM,CAACK,MAApB;AACAL,MAAAA,MAAM,GAAGA,MAAM,CAACD,KAAP,CAAa,CAACH,MAAM,CAACU,MAAP,GAAc,CAAf,IAAkBhB,QAA/B,EAAwCM,MAAM,CAACU,MAAP,GAAchB,QAAtD,CAAT;AACA,aAAO,EACH,GAAGK,KADA;AAEHR,QAAAA,WAAW,EAAEa,MAFV;AAGHT,QAAAA,KAAK,EAACc;AAHH,OAAP;;AAKJ,SAAK,gBAAL;AACI,YAAM;AAACE,QAAAA,EAAD;AAAKC,QAAAA;AAAL,UAAcZ,MAApB;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYd,MAAZ,EAAmB,QAAnB;AACA,aAAO,EACH,GAAGD,KADA;AAEHH,QAAAA,SAAS,EAAEe,EAFR;AAGHd,QAAAA,YAAY,EAACe;AAHV,OAAP;;AAKJ;AACI,aAAOtB,GAAP;AA5BR;AA8BH,C,CACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\n/**\n * 初始化数据\n */\nlet obj = {\n    currentList:[],//当前页的数据\n    totalData: [],//请求到的全部数据\n    current: 1, //当前页码\n    pageSize: 10, //每页显示的条数\n    total: 0,//商品列表总条数\n    currentId: 0,//要修改的当前商品的id\n    currentPrice: 0,//要修改的当前商品的价格\n}\n\nexport default function product(state = obj, action) {\n    switch (action.type) {\n        case \"SETDATALIST\":\n            const {list, total} = action\n            return {\n                ...state,\n                totalData:list,\n                total:total,\n                currentList : list.slice((state.current-1)*state.pageSize,state.current*state.pageSize)\n            };\n        case \"GETLIST\":\n            const {pageSize} = state\n            let result = state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n            let length = result.length\n            result = result.slice((action.number-1)*pageSize,action.number*pageSize)\n            return {\n                ...state,\n                currentList: result,\n                total:length\n            }\n        case \"CURRENTPRODUCT\":\n            const {id, price} = action\n            console.log(action,'action')\n            return {\n                ...state,\n                currentId: id,\n                currentPrice:price\n            }\n        default:\n            return obj;\n    }\n}\n // case \"GETLISTBYID\":\n        //     const {totalData,pageSize} = state\n        //     const number = action.pageNumber\n        //     return {\n        //         ...state,\n        //         currentList: totalData.slice((number-1)*pageSize,number*pageSize)\n        //     }\n        // case \"GETLISTBUNAME\":\n        //     // console.log(state.totalData,'ppppppp')\n        //     return {\n        //         ...state,\n        //         currentList: state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n        //     }"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\n * 初始化数据\n */\nlet obj = {\n  currentList: [],\n  //当前页的数据\n  totalData: [],\n  //请求到的全部数据\n  current: 1,\n  //当前页码\n  pageSize: 10,\n  //每页显示的条数\n  total: 0 //商品列表总条数\n\n};\nexport default function product(state = obj, action) {\n  const {\n    pageSize,\n    current\n  } = state;\n\n  switch (action.type) {\n    case \"SETDATALIST\":\n      const {\n        list,\n        total\n      } = action;\n      return { ...state,\n        totalData: list,\n        total: total,\n        currentList: list.slice((current - 1) * pageSize, current * pageSize)\n      };\n\n    case \"GETLIST\":\n      let result = state.totalData.filter(item => item.name.indexOf(action.name) > -1);\n      result = result.slice((action.number - 1) * pageSize, action.number * pageSize);\n      return { ...state,\n        currentList: result,\n        total: result.length\n      };\n\n    case \"CHANGEPRICE\":\n      const {\n        id,\n        price\n      } = action;\n      const target = state.currentList;\n      target.some(item => {\n        if (item.id == id) {\n          item.price = price;\n          return true;\n        }\n\n        return false;\n      });\n      return { ...state,\n        currentList: target\n      };\n\n    case \"CHANGECHECKED\":\n      const {\n        idList,\n        boolen\n      } = action;\n      const lists = state.currentList;\n      lists.some(item => {\n        if (item.id == idList) {\n          item.checked = boolen;\n          return true;\n        }\n\n        return false;\n      });\n      return { ...state,\n        currentList: lists\n      };\n\n    case \"REMOVECHECKED\":\n      let delentList = state.totalData;\n      delentList = delentList.filter(item => {\n        return item.checked == false;\n      });\n      return { ...state,\n        totalData: delentList,\n        currentList: delentList.slice((current - 1) * pageSize, current * pageSize),\n        total: delentList.length\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/aiyongtech5/Desktop/demo03/demo/src/reducers/product.js"],"names":["obj","currentList","totalData","current","pageSize","total","product","state","action","type","list","slice","result","filter","item","name","indexOf","number","length","id","price","target","some","idList","boolen","lists","checked","delentList"],"mappings":"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","sourcesContent":["\n/**\n * 初始化数据\n */\nlet obj = {\n    currentList:[],//当前页的数据\n    totalData: [],//请求到的全部数据\n    current: 1, //当前页码\n    pageSize: 10, //每页显示的条数\n    total: 0,//商品列表总条数\n}\n\nexport default function product(state = obj, action) {\n    const {pageSize,current} = state\n    switch (action.type) {\n        \n        case \"SETDATALIST\":\n            const {list, total} = action\n            return {\n                ...state,\n                totalData:list,\n                total:total,\n                currentList : list.slice((current-1)*pageSize,current*pageSize)\n            };\n        case \"GETLIST\":\n            let result = state.totalData.filter(item => item.name.indexOf(action.name) > -1)\n            result = result.slice((action.number-1)*pageSize,action.number*pageSize)\n            return {\n                ...state,\n                currentList: result,\n                total:result.length\n            }\n        case \"CHANGEPRICE\":\n            const {id, price} = action\n            const target = state.currentList\n            target.some(item =>{\n                if(item.id == id){\n                    item.price = price\n                    return true\n                }\n                return false\n            })\n            return {  \n                ...state,\n                currentList: target\n            }\n        case \"CHANGECHECKED\":\n            const {idList,boolen} = action\n            const lists = state.currentList\n            lists.some(item =>{\n                if(item.id == idList){\n                    item.checked = boolen\n                    return true\n                }\n                return false\n            })\n            return {\n                ...state,\n                currentList:lists,\n                \n            }\n        case \"REMOVECHECKED\" :\n            let delentList = state.totalData\n            delentList = delentList.filter(item =>{\n                return item.checked == false\n            })\n            return {\n                ...state,\n                totalData:delentList,\n                currentList:delentList.slice((current-1)*pageSize,current*pageSize),\n                total: delentList.length\n            }\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}